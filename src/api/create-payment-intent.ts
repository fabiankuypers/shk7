import Stripe from 'stripe';

const stripe = new Stripe('sk_test_51P5HBEK3uE2SBg2eJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKGJKG', {
  apiVersion: '2023-10-16',
});

interface PaymentIntentRequest {
  payment_method_id: string;
  email: string;
  name: string;
  company?: string;
  amount: number;
}

export async function createPaymentIntent(req: any, res: any) {
  try {
    const { payment_method_id, email, name, company, amount }: PaymentIntentRequest = req.body;

    // For the free trial phase, we create a Setup Intent instead of Payment Intent
    // This saves the payment method for future charges
    const setupIntent = await stripe.setupIntents.create({
      payment_method: payment_method_id,
      customer: await createOrGetCustomer(email, name, company),
      confirm: true,
      usage: 'off_session',
    });

    // Create a subscription for future billing
    const subscription = await stripe.subscriptions.create({
      customer: setupIntent.customer as string,
      items: [{ price: 'price_1234567890' }], // Replace with your actual Price ID for 9 EUR/month
      trial_period_days: 90,
      default_payment_method: payment_method_id,
    });

    res.json({
      success: true,
      setup_intent: setupIntent,
      subscription: subscription,
    });

  } catch (error: any) {
    console.error('Payment error:', error);
    res.status(400).json({ error: error.message });
  }
}

async function createOrGetCustomer(email: string, name: string, company?: string) {
  // Check if customer already exists
  const existingCustomers = await stripe.customers.list({
    email: email,
    limit: 1,
  });

  if (existingCustomers.data.length > 0) {
    return existingCustomers.data[0].id;
  }

  // Create new customer
  const customer = await stripe.customers.create({
    email: email,
    name: name,
    metadata: {
      company: company || '',
    },
  });

  return customer.id;
}